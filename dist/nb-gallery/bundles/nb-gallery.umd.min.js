!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/platform-browser"),require("@angular/core")):"function"==typeof define&&define.amd?define("nb-gallery",["exports","@angular/common","@angular/platform-browser","@angular/core"],e):e(t["nb-gallery"]={},t.ng.common,t.ng.platformBrowser,t.ng.core)}(this,function(t,e,n,r){"use strict";var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}var s=function(){function t(){this.disabled=!1,this.titleText="",this.onClick=new r.EventEmitter}return t.prototype.handleClick=function(t){this.disabled||this.onClick.emit(t),t.stopPropagation(),t.preventDefault()},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-action",template:'\n        <div class="nb-gallery-icon" [class.nb-gallery-icon-disabled]="disabled"\n            aria-hidden="true"\n            title="{{ titleText }}"\n            (click)="handleClick($event)">\n                <i class="nb-gallery-icon-content {{ icon }}"></i>\n        </div>',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={icon:[{type:r.Input}],disabled:[{type:r.Input}],titleText:[{type:r.Input}],onClick:[{type:r.Output}]},t}(),a=function(){function t(){this.onPrevClick=new r.EventEmitter,this.onNextClick=new r.EventEmitter}return t.prototype.handlePrevClick=function(){this.onPrevClick.emit()},t.prototype.handleNextClick=function(){this.onNextClick.emit()},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-arrows",template:'\n        <div class="nb-gallery-arrow-wrapper nb-gallery-arrow-left">\n            <div class="nb-gallery-icon nb-gallery-arrow" aria-hidden="true" (click)="handlePrevClick()" [class.nb-gallery-disabled]="prevDisabled">\n                <i class="nb-gallery-icon-content {{arrowPrevIcon}}"></i>\n            </div>\n        </div>\n        <div class="nb-gallery-arrow-wrapper nb-gallery-arrow-right">\n            <div class="nb-gallery-icon nb-gallery-arrow" aria-hidden="true" (click)="handleNextClick()" [class.nb-gallery-disabled]="nextDisabled">\n                <i class="nb-gallery-icon-content {{arrowNextIcon}}"></i>\n            </div>\n        </div>\n    ',styles:[".nb-gallery-arrow-wrapper{position:absolute;height:100%;width:1px;display:table;z-index:2000;table-layout:fixed}.nb-gallery-arrow-left{left:0}.nb-gallery-arrow-right{right:0}.nb-gallery-arrow{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);cursor:pointer}.nb-gallery-arrow.nb-gallery-disabled{opacity:.6;cursor:default}.nb-gallery-arrow-left .nb-gallery-arrow{left:10px}.nb-gallery-arrow-right .nb-gallery-arrow{right:10px}"]}]}],t.propDecorators={prevDisabled:[{type:r.Input}],nextDisabled:[{type:r.Input}],arrowPrevIcon:[{type:r.Input}],arrowNextIcon:[{type:r.Input}],onPrevClick:[{type:r.Output}],onNextClick:[{type:r.Output}]},t}(),l=function(){function t(){this.active=0,this.onChange=new r.EventEmitter}return t.prototype.getBullets=function(){return Array(this.count)},t.prototype.handleChange=function(t,e){this.onChange.emit(e)},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-bullets",template:'\n        <div class="nb-gallery-bullet" *ngFor="let bullet of getBullets(); let i = index;" (click)="handleChange($event, i)" [ngClass]="{ \'nb-gallery-active\': i == active }"></div>\n    ',styles:[":host{position:absolute;z-index:2000;display:inline-flex;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:0;padding:10px}.nb-gallery-bullet{width:10px;height:10px;border-radius:50%;cursor:pointer;background:#fff}.nb-gallery-bullet:not(:first-child){margin-left:5px}.nb-gallery-bullet.nb-gallery-active,.nb-gallery-bullet:hover{background:#000}"]}]}],t.propDecorators={count:[{type:r.Input}],active:[{type:r.Input}],onChange:[{type:r.Output}]},t}(),u=function(){function t(t){this.renderer=t,this.swipeHandlers=new Map}return t.prototype.manageSwipe=function(t,e,n,i,o){var r=this.getSwipeHandlers(n);try{t&&!r?this.swipeHandlers.set(n,[this.renderer.listen(e.nativeElement,"swipeleft",function(){return i()}),this.renderer.listen(e.nativeElement,"swiperight",function(){return o()}),this.renderer.listen(e.nativeElement,"swipeup",function(){return o()}),this.renderer.listen(e.nativeElement,"swipedown",function(){return o()})]):!t&&r&&(r.map(function(t){return t()}),this.removeSwipeHandlers(n))}catch(s){}},t.prototype.validateUrl=function(t){return t.replace?t.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):t},t.prototype.getBackgroundUrl=function(t){return"url('"+this.validateUrl(t)+"')"},t.prototype.getSwipeHandlers=function(t){return this.swipeHandlers.get(t)},t.prototype.removeSwipeHandlers=function(t){this.swipeHandlers["delete"](t)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:r.Renderer}]},t}(),p=function(){function t(){}return t.Fade="fade",t.Slide="slide",t.Rotate="rotate",t.Zoom="zoom",t}(),c=function(){function t(t,e,n){this.sanitization=t,this.elementRef=e,this.helperService=n,this.onClick=new r.EventEmitter,this.onActiveChange=new r.EventEmitter,this.canChangeImage=!0}return t.prototype.ngOnInit=function(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()},t.prototype.ngOnChanges=function(t){var e=this;t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",function(){return e.showNext()},function(){return e.showPrev()})},t.prototype.onMouseEnter=function(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()},t.prototype.onMouseLeave=function(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()},t.prototype.reset=function(t){this.selectedIndex=t},t.prototype.getItems=function(){if(!this.items)return[];if(this.lazyLoading){var n=[this.selectedIndex],t=this.selectedIndex-1;-1===t&&this.infinityMove?n.push(this.items.length-1):0<=t&&n.push(t);var e=this.selectedIndex+1;return e===this.items.length&&this.infinityMove?n.push(0):e<this.items.length&&n.push(e),this.items.filter(function(t,e){return-1!=n.indexOf(e)})}return this.items},t.prototype.startAutoPlay=function(){var t=this;this.stopAutoPlay(),this.timer=setInterval(function(){t.showNext()||(t.selectedIndex=-1,t.showNext())},this.autoPlayInterval)},t.prototype.stopAutoPlay=function(){this.timer&&clearInterval(this.timer)},t.prototype.handleClick=function(t,e){this.clickable&&(this.onClick.emit(e),t.stopPropagation(),t.preventDefault())},t.prototype.show=function(t){this.selectedIndex=t,this.onActiveChange.emit(this.selectedIndex),this.setChangeTimeout()},t.prototype.showNext=function(){return!(!this.canShowNext()||!this.canChangeImage)&&(this.selectedIndex++,this.selectedIndex===this.items.length&&(this.selectedIndex=0),this.onActiveChange.emit(this.selectedIndex),this.setChangeTimeout(),!0)},t.prototype.showPrev=function(){this.canShowPrev()&&this.canChangeImage&&(this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=this.items.length-1),this.onActiveChange.emit(this.selectedIndex),this.setChangeTimeout())},t.prototype.setChangeTimeout=function(){var t=this;this.canChangeImage=!1;var e=1e3;this.animation!==p.Slide&&this.animation!==p.Fade||(e=500),setTimeout(function(){t.canChangeImage=!0},e)},t.prototype.canShowNext=function(){return!!this.items&&!!(this.infinityMove||this.selectedIndex<this.items.length-1)},t.prototype.canShowPrev=function(){return!!this.items&&!!(this.infinityMove||0<this.selectedIndex)},t.prototype.getSafeUrl=function(t){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(t))},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-item",template:'\n        <div class="nb-gallery-item-wrapper nb-gallery-animation-{{animation}} nb-gallery-item-size-{{size}}">\n            <div class="nb-gallery-item" *ngFor="let item of getItems(); let i = index;" [ngClass]="{ \'nb-gallery-active\': selectedIndex == item.index, \'nb-gallery-inactive-left\': selectedIndex > item.index, \'nb-gallery-inactive-right\': selectedIndex < item.index, \'nb-gallery-clickable\': clickable }" (click)="handleClick($event, item.index)">\n                <div *ngIf="item.type === \'image\'" class="nb-gallery-item-image" [style.background-image]="getSafeUrl(item.url)"></div>\n                <nb-gallery-video *ngIf="item.type === \'video\'" [videoItem]="item" [pause]="selectedIndex !== item.index" class="nb-gallery-item-video"></nb-gallery-video>\n                <div class="nb-gallery-icons-wrapper">\n                    <nb-gallery-action *ngFor="let action of actions" [icon]="action.icon" [disabled]="action.disabled" [titleText]="action.titleText" (onClick)="action.onClick($event, item.index)"></nb-gallery-action>\n                </div>\n                <div class="nb-gallery-item-text" *ngIf="showDescription && descriptions[item.index]" [innerHTML]="descriptions[item.index]" (click)="$event.stopPropagation()"></div>\n            </div>\n        </div>\n        <nb-gallery-bullets *ngIf="bullets" [count]="items.length" [active]="selectedIndex" (onChange)="show($event)"></nb-gallery-bullets>\n        <nb-gallery-arrows class="nb-gallery-item-size-{{size}}" *ngIf="arrows" (onPrevClick)="showPrev()" (onNextClick)="showNext()" [prevDisabled]="!canShowPrev()" [nextDisabled]="!canShowNext()" [arrowPrevIcon]="arrowPrevIcon" [arrowNextIcon]="arrowNextIcon"></nb-gallery-arrows>\n    ',styles:[":host{width:100%;display:inline-block;position:relative}.nb-gallery-item-wrapper{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.nb-gallery-item,.nb-gallery-item-image{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.nb-gallery-item-image.nb-gallery-active,.nb-gallery-item.nb-gallery-active{z-index:1000}.nb-gallery-item-size-cover .nb-gallery-item .nb-gallery-item-image{background-size:cover}.nb-gallery-item-size-contain .nb-gallery-item .nb-gallery-item-image{background-size:contain}.nb-gallery-animation-fade .nb-gallery-item{left:0;opacity:0;transition:.5s ease-in-out}.nb-gallery-animation-fade .nb-gallery-item.nb-gallery-active{opacity:1}.nb-gallery-animation-slide .nb-gallery-item{transition:.5s ease-in-out}.nb-gallery-animation-slide .nb-gallery-item.nb-gallery-active{left:0}.nb-gallery-animation-slide .nb-gallery-item.nb-gallery-inactive-left{left:-100%}.nb-gallery-animation-slide .nb-gallery-item.nb-gallery-inactive-right{left:100%}.nb-gallery-animation-rotate .nb-gallery-item{transition:1s;-webkit-transform:scale(3.5,3.5) rotate(90deg);transform:scale(3.5,3.5) rotate(90deg);left:0;opacity:0}.nb-gallery-animation-rotate .nb-gallery-item.nb-gallery-active{-webkit-transform:scale(1,1) rotate(0);transform:scale(1,1) rotate(0);opacity:1}.nb-gallery-animation-zoom .nb-gallery-item{transition:1s;-webkit-transform:scale(2.5,2.5);transform:scale(2.5,2.5);left:0;opacity:0}.nb-gallery-animation-zoom .nb-gallery-item.nb-gallery-active{-webkit-transform:scale(1,1);transform:scale(1,1);opacity:1}.nb-gallery-item-text{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"]}]}],t.ctorParameters=function(){return[{type:n.DomSanitizer},{type:r.ElementRef},{type:u}]},t.propDecorators={items:[{type:r.Input}],clickable:[{type:r.Input}],selectedIndex:[{type:r.Input}],arrows:[{type:r.Input}],arrowsAutoHide:[{type:r.Input}],swipe:[{type:r.Input}],animation:[{type:r.Input}],size:[{type:r.Input}],arrowPrevIcon:[{type:r.Input}],arrowNextIcon:[{type:r.Input}],autoPlay:[{type:r.Input}],autoPlayInterval:[{type:r.Input}],autoPlayPauseOnHover:[{type:r.Input}],infinityMove:[{type:r.Input}],lazyLoading:[{type:r.Input}],actions:[{type:r.Input}],descriptions:[{type:r.Input}],showDescription:[{type:r.Input}],bullets:[{type:r.Input}],bgColor:[{type:r.Input}],onClick:[{type:r.Output}],onActiveChange:[{type:r.Output}],onMouseEnter:[{type:r.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:r.HostListener,args:["mouseleave"]}]},t}(),h=function(){function t(){}return t.prototype.ngOnInit=function(){switch(this.videoItem.source){case"youtube":this.src="https://www.youtube.com/embed/"+this.videoItem.url;break;case"vimeo":this.src="https://player.vimeo.com/video/"+this.videoItem.url;break;case"memory":this.src=this.videoItem.url}},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-video",template:'\n    <nb-gallery-iframe\n        *ngIf="(videoItem.source === \'youtube\' ||videoItem.source === \'vimeo\')"\n        [pause]="pause" [src]="src">\n    </nb-gallery-iframe>\n    <nb-gallery-tag *ngIf="videoItem.source === \'memory\'" [pause]="pause" [src]="src"></nb-gallery-tag>\n        ',styles:[".nb-gallery-video{width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={videoItem:[{type:r.Input}],pause:[{type:r.Input}]},t}(),m=function(){function t(t){this._sanitizer=t}return Object.defineProperty(t.prototype,"pauseVideo",{set:function(t){var e=this.iframe.nativeElement;if(t){var n=e.src;e.src=n}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.src)},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-iframe",template:'\n    <iframe #iframe\n            frameborder="0"\n            allowfullscreen\n            class="nb-gallery-video"\n            [src]="iframeSrc">\n    </iframe>\n        ',styles:[".nb-gallery-video{width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[{type:n.DomSanitizer}]},t.propDecorators={src:[{type:r.Input}],pauseVideo:[{type:r.Input,args:["pause"]}],iframe:[{type:r.ViewChild,args:["iframe"]}]},t}(),y=function(){function t(){this.error=new r.EventEmitter}return Object.defineProperty(t.prototype,"pauseVideo",{set:function(t){var e=this.video.nativeElement;t&&!e.paused&&e.pause()},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-tag",template:'\n    <video #video class="nb-gallery-video" controls (error)="error.emit($event)">\n      <source src="{{src}}"/>\n    </video>\n        ',styles:[".nb-gallery-video{width:100%;height:100%}"]}]}],t.propDecorators={src:[{type:r.Input}],pauseVideo:[{type:r.Input,args:["pause"]}],error:[{type:r.Output}],video:[{type:r.ViewChild,args:["video"]}]},t}(),g=function(){function t(){}return t.Column=1,t.Row=2,t.Page=3,t}(),d=function(){function t(t,e,n){this.sanitization=t,this.elementRef=e,this.helperService=n,this.minStopIndex=0,this.onActiveChange=new r.EventEmitter,this.index=0}return t.prototype.ngOnChanges=function(t){var e=this;t.selectedIndex&&this.validateIndex(),t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",function(){return e.moveRight()},function(){return e.moveLeft()}),this.items&&(this.remainingCountValue=this.items.length-this.rows*this.columns)},t.prototype.onMouseEnter=function(){this.mouseenter=!0},t.prototype.onMouseLeave=function(){this.mouseenter=!1},t.prototype.reset=function(t){this.selectedIndex=t,this.setDefaultPosition(),this.index=0,this.validateIndex()},t.prototype.getItems=function(){if(!this.items)return[];if(this.remainingCount)return this.items.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==g.Row){var t=0;return this.order===g.Column?t=(this.index+this.columns+this.moveSize)*this.rows:this.order===g.Page&&(t=this.index+this.columns*this.rows*2),t<=this.minStopIndex?t=this.minStopIndex:this.minStopIndex=t,this.items.slice(0,t)}return this.items},t.prototype.handleClick=function(t,e){this.hasLink(e)||(this.selectedIndex=e,this.onActiveChange.emit(e),t.stopPropagation(),t.preventDefault())},t.prototype.hasLink=function(t){if(this.links&&this.links.length&&this.links[t])return!0},t.prototype.moveRight=function(){if(this.canMoveRight()){this.index+=this.moveSize;var t=this.getMaxIndex()-this.columns;this.index>t&&(this.index=t),this.setThumbnailsPosition()}},t.prototype.moveLeft=function(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())},t.prototype.canMoveRight=function(){return this.index+this.columns<this.getMaxIndex()},t.prototype.canMoveLeft=function(){return 0!==this.index},t.prototype.getThumbnailLeft=function(t){var e;return e=this.order===g.Column?Math.floor(t/this.rows):this.order===g.Page?t%this.columns+Math.floor(t/(this.rows*this.columns))*this.columns:this.order===g.Row&&this.remainingCount?t%this.columns:t%Math.ceil(this.items.length/this.rows),this.getThumbnailPosition(e,this.columns)},t.prototype.getThumbnailTop=function(t){var e;return e=this.order===g.Column?t%this.rows:this.order===g.Page?Math.floor(t/this.columns)-Math.floor(t/(this.rows*this.columns))*this.rows:this.order===g.Row&&this.remainingCount?Math.floor(t/this.columns):Math.floor(t/Math.ceil(this.items.length/this.rows)),this.getThumbnailPosition(e,this.rows)},t.prototype.getThumbnailWidth=function(){return this.getThumbnailDimension(this.columns)},t.prototype.getThumbnailHeight=function(){return this.getThumbnailDimension(this.rows)},t.prototype.setThumbnailsPosition=function(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"},t.prototype.setDefaultPosition=function(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"},t.prototype.canShowArrows=function(){return!this.remainingCount&&!(!(this.arrows&&this.items&&this.items.length>this.getVisibleCount())||this.arrowsAutoHide&&!this.mouseenter)},t.prototype.validateIndex=function(){if(this.items){var t=void 0;if(t=this.order===g.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.items.length/this.rows),this.remainingCount&&(t=0),t<this.index||t>=this.index+this.columns){var e=this.getMaxIndex()-this.columns;this.index=e<t?e:t,this.setThumbnailsPosition()}}},t.prototype.getSafeUrl=function(t){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(t))},t.prototype.getThumbnailPosition=function(t,e){return this.getSafeStyle("calc("+100/e*t+"% + "+(this.margin-(e-1)*this.margin/e)*t+"px)")},t.prototype.getThumbnailDimension=function(t){return 0!==this.margin?this.getSafeStyle("calc("+100/t+"% - "+(t-1)*this.margin/t+"px)"):this.getSafeStyle("calc("+100/t+"% + 1px)")},t.prototype.getMaxIndex=function(){if(this.order!==g.Page)return Math.ceil(this.items.length/this.rows);var t=Math.floor(this.items.length/this.getVisibleCount())*this.columns;return this.items.length%this.getVisibleCount()>this.columns?t+=this.columns:t+=this.items.length%this.getVisibleCount(),t},t.prototype.getVisibleCount=function(){return this.columns*this.rows},t.prototype.getSafeStyle=function(t){return this.sanitization.bypassSecurityTrustStyle(t)},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-thumbnails",template:'\n    <div class="nb-gallery-thumbnails-wrapper nb-gallery-thumbnail-size-{{size}}">\n        <div class="nb-gallery-thumbnails" [style.transform]="\'translateX(\' + thumbnailsLeft + \')\'" [style.marginLeft]="thumbnailsMarginLeft">\n            <a [href]="hasLink(i) ? links[i] : \'#\'" [target]="linkTarget" class="nb-gallery-thumbnail" *ngFor="let item of getItems(); let i = index;" [style.background-image]="getSafeUrl(item.url)" (click)="handleClick($event, i)" [style.width]="getThumbnailWidth()" [style.height]="getThumbnailHeight()" [style.left]="getThumbnailLeft(i)" [style.top]="getThumbnailTop(i)" [ngClass]="{ \'nb-gallery-active\': i == selectedIndex, \'nb-gallery-clickable\': clickable }" [attr.aria-label]="labels[i]">\n                <div class="nb-gallery-icons-wrapper">\n                    <nb-gallery-action *ngFor="let action of actions" [icon]="action.icon" [disabled]="action.disabled" [titleText]="action.titleText" (onClick)="action.onClick($event, i)"></nb-gallery-action>\n                </div>\n                <div class="nb-gallery-remaining-count-overlay" *ngIf="remainingCount && remainingCountValue && (i == (rows * columns) - 1)">\n                    <span class="nb-gallery-remaining-count">+{{remainingCountValue}}</span>\n                </div>\n            </a>\n        </div>\n    </div>\n    <nb-gallery-arrows *ngIf="canShowArrows()" (onPrevClick)="moveLeft()" (onNextClick)="moveRight()" [prevDisabled]="!canMoveLeft()" [nextDisabled]="!canMoveRight()" [arrowPrevIcon]="arrowPrevIcon" [arrowNextIcon]="arrowNextIcon"></nb-gallery-arrows>\n    ',styles:[":host{width:100%;display:inline-block;position:relative}.nb-gallery-thumbnails-wrapper{width:100%;height:100%;position:absolute;overflow:hidden}.nb-gallery-thumbnails{height:100%;width:100%;position:absolute;left:0;-webkit-transform:translateX(0);transform:translateX(0);transition:transform .5s ease-in-out;transition:transform .5s ease-in-out,-webkit-transform .5s ease-in-out;will-change:transform}.nb-gallery-thumbnails .nb-gallery-thumbnail{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none}.nb-gallery-thumbnail-size-cover .nb-gallery-thumbnails .nb-gallery-thumbnail{background-size:cover}.nb-gallery-thumbnail-size-contain .nb-gallery-thumbnails .nb-gallery-thumbnail{background-size:contain}.nb-gallery-remaining-count-overlay{width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(0,0,0,.4)}.nb-gallery-remaining-count{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#fff;font-size:30px}"]}]}],t.ctorParameters=function(){return[{type:n.DomSanitizer},{type:r.ElementRef},{type:u}]},t.propDecorators={items:[{type:r.Input}],links:[{type:r.Input}],labels:[{type:r.Input}],linkTarget:[{type:r.Input}],columns:[{type:r.Input}],rows:[{type:r.Input}],arrows:[{type:r.Input}],arrowsAutoHide:[{type:r.Input}],margin:[{type:r.Input}],selectedIndex:[{type:r.Input}],clickable:[{type:r.Input}],swipe:[{type:r.Input}],size:[{type:r.Input}],arrowPrevIcon:[{type:r.Input}],arrowNextIcon:[{type:r.Input}],moveSize:[{type:r.Input}],order:[{type:r.Input}],remainingCount:[{type:r.Input}],lazyLoading:[{type:r.Input}],actions:[{type:r.Input}],onActiveChange:[{type:r.Output}],onMouseEnter:[{type:r.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:r.HostListener,args:["mouseleave"]}]},t}(),b=function(){function t(t,e,n,i,o){this.sanitization=t,this.elementRef=e,this.helperService=n,this.renderer=i,this.changeDetectorRef=o,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.onOpen=new r.EventEmitter,this.onClose=new r.EventEmitter,this.onActiveChange=new r.EventEmitter,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}return t.prototype.ngOnChanges=function(t){var e=this;t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",function(){return e.showNext()},function(){return e.showPrev()})},t.prototype.ngOnDestroy=function(){this.keyDownListener&&this.keyDownListener()},t.prototype.onKeyDown=function(t){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(t)?this.showPrev():this.isKeyboardNext(t)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(t)&&this.close())},t.prototype.open=function(t){var e=this;this.onOpen.emit(),this.index=t,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listenGlobal("window","keydown",function(t){return e.onKeyDown(t)})},t.prototype.close=function(){this.isOpen=!1,this.closeFullscreen(),this.onClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()},t.prototype.imageMouseEnter=function(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()},t.prototype.imageMouseLeave=function(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()},t.prototype.startAutoPlay=function(){var t=this;this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(function(){t.showNext()||(t.index=-1,t.showNext())},this.autoPlayInterval))},t.prototype.stopAutoPlay=function(){this.timer&&clearTimeout(this.timer)},t.prototype.showAtIndex=function(t){this.index=t,this.show()},t.prototype.showNext=function(){return!!this.canShowNext()&&(this.index++,this.index===this.items.length&&(this.index=0),this.show(),!0)},t.prototype.showPrev=function(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.items.length-1),this.show())},t.prototype.canShowNext=function(){return!this.loading&&(!!this.items&&!!(this.infinityMove||this.index<this.items.length-1))},t.prototype.canShowPrev=function(){return!this.loading&&(!!this.items&&!!(this.infinityMove||0<this.index))},t.prototype.manageFullscreen=function(){if(this.fullscreen||this.forceFullscreen){var t=document;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}},t.prototype.getSafeUrl=function(t){return"data:image"===t.substr(0,10)?t:this.sanitization.bypassSecurityTrustUrl(t)},t.prototype.zoomIn=function(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))},t.prototype.zoomOut=function(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())},t.prototype.rotateLeft=function(){this.rotateValue-=90},t.prototype.rotateRight=function(){this.rotateValue+=90},t.prototype.getTransform=function(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")},t.prototype.canZoomIn=function(){return this.zoomValue<this.zoomMax},t.prototype.canZoomOut=function(){return this.zoomValue>this.zoomMin},t.prototype.canDragOnZoom=function(){return this.zoom&&1<this.zoomValue},t.prototype.mouseDownHandler=function(t){this.canDragOnZoom()&&(this.initialX=this.getClientX(t),this.initialY=this.getClientY(t),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,t.preventDefault())},t.prototype.mouseUpHandler=function(t){this.isMove=!1},t.prototype.mouseMoveHandler=function(t){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(t)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(t)-this.initialY))},t.prototype.getClientX=function(t){return t.touches&&t.touches.length?t.touches[0].clientX:t.clientX},t.prototype.getClientY=function(t){return t.touches&&t.touches.length?t.touches[0].clientY:t.clientY},t.prototype.resetPosition=function(){this.zoom&&(this.positionLeft=0,this.positionTop=0)},t.prototype.isKeyboardNext=function(t){return 39===t.keyCode},t.prototype.isKeyboardPrev=function(t){return 37===t.keyCode},t.prototype.isKeyboardEsc=function(t){return 27===t.keyCode},t.prototype.openFullscreen=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},t.prototype.closeFullscreen=function(){var t=document;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()},t.prototype.show=function(t){var e=this;void 0===t&&(t=!1),this.loading=!0,this.stopAutoPlay(),this.onActiveChange.emit(this.index),t||!this.animation?this._show():setTimeout(function(){return e._show()},600)},t.prototype._show=function(){var t=this;this.zoomValue=1,this.rotateValue=0,this.resetPosition(),console.log(this.items),this.src="image"===this.items[this.index].type?this.getSafeUrl(this.items[this.index].url):undefined,this.item=this.items[this.index],console.log(this.item),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(function(){"video"===t.items[t.index].type?t.updateOnVideo():t.updateOnImage()})},t.prototype.isImgLoaded=function(t){return!!t.complete&&("undefined"==typeof t.naturalWidth||0!==t.naturalWidth)},t.prototype.updateOnImage=function(){var t=this;this.isImgLoaded(this.previewImage.nativeElement)?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):(setTimeout(function(){t.loading&&(t.showSpinner=!0,t.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=function(){t.loading=!1,t.showSpinner=!1,t.previewImage.nativeElement.onload=null,t.startAutoPlay(),t.changeDetectorRef.markForCheck()})},t.prototype.updateOnVideo=function(){this.loading=!1},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery-preview",template:'\n        <nb-gallery-arrows (onPrevClick)="showPrev()" (onNextClick)="showNext()" [prevDisabled]="!canShowPrev()" [nextDisabled]="!canShowNext()" [arrowPrevIcon]="arrowPrevIcon" [arrowNextIcon]="arrowNextIcon"></nb-gallery-arrows>\n        <div class="nb-gallery-preview-top">\n            <div class="nb-gallery-preview-icons">\n                <nb-gallery-action *ngFor="let action of actions" [icon]="action.icon" [disabled]="action.disabled" [titleText]="action.titleText" (onClick)="action.onClick($event, index)"></nb-gallery-action>\n                <a *ngIf="download && src" [href]="src" class="nb-gallery-icon" aria-hidden="true" download>\n                    <i class="nb-gallery-icon-content {{ downloadIcon }}"></i>\n                </a>\n                <nb-gallery-action *ngIf="zoom" [icon]="zoomOutIcon" [disabled]="!canZoomOut()" (onClick)="zoomOut()"></nb-gallery-action>\n                <nb-gallery-action *ngIf="zoom" [icon]="zoomInIcon" [disabled]="!canZoomIn()" (onClick)="zoomIn()"></nb-gallery-action>\n                <nb-gallery-action *ngIf="rotate" [icon]="rotateLeftIcon" (onClick)="rotateLeft()"></nb-gallery-action>\n                <nb-gallery-action *ngIf="rotate" [icon]="rotateRightIcon" (onClick)="rotateRight()"></nb-gallery-action>\n                <nb-gallery-action *ngIf="fullscreen" [icon]="\'nb-gallery-fullscreen \' + fullscreenIcon" (onClick)="manageFullscreen()"></nb-gallery-action>\n                <nb-gallery-action [icon]="\'nb-gallery-close \' + closeIcon" (onClick)="close()"></nb-gallery-action>\n            </div>\n        </div>\n        <div class="nb-spinner-wrapper nb-gallery-center" [class.nb-gallery-active]="showSpinner">\n            <i class="nb-gallery-icon nb-gallery-spinner {{spinnerIcon}}" aria-hidden="true"></i>\n        </div>\n        <div class="nb-gallery-preview-wrapper" (click)="closeOnClick && close()" (mouseup)="mouseUpHandler($event)" (mousemove)="mouseMoveHandler($event)" (touchend)="mouseUpHandler($event)" (touchmove)="mouseMoveHandler($event)">\n            <div class="nb-gallery-preview-img-wrapper">\n                <img *ngIf="src && item && item.type === \'image\'" #previewImage class="nb-gallery-preview-img nb-gallery-center" [src]="src" (click)="$event.stopPropagation()" (mouseenter)="imageMouseEnter()" (mouseleave)="imageMouseLeave()" (mousedown)="mouseDownHandler($event)" (touchstart)="mouseDownHandler($event)" [class.nb-gallery-active]="!loading" [class.animation]="animation" [class.nb-gallery-grab]="canDragOnZoom()" [style.transform]="getTransform()" [style.left]="positionLeft + \'px\'" [style.top]="positionTop + \'px\'"/>\n                <nb-gallery-video *ngIf="item && item.type === \'video\'" #previewVideo [videoItem]="item" [pause]="index !== srcIndex" class="nb-gallery-preview-video nb-gallery-center" (click)="$event.stopPropagation()" [class.nb-gallery-active]="!loading" [class.animation]="animation" [class.nb-gallery-grab]="canDragOnZoom()" [style.transform]="getTransform()" [style.left]="positionLeft + \'px\'" [style.top]="positionTop + \'px\'" ></nb-gallery-video>\n                <nb-gallery-bullets *ngIf="bullets" [count]="items.length" [active]="index" (onChange)="showAtIndex($event)"></nb-gallery-bullets>\n            </div>\n            <div class="nb-gallery-preview-text" *ngIf="showDescription && description" [innerHTML]="description" (click)="$event.stopPropagation()"></div>\n        </div>\n    ',styles:[":host(.nb-gallery-active){width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block}:host{display:none}:host /deep/ .nb-gallery-arrow{font-size:50px}:host /deep/ nb-gallery-bullets{height:5%;align-items:center;padding:0}.nb-gallery-preview-video{max-width:90%;max-height:90%}.nb-gallery-preview-img{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.nb-gallery-preview-img.animation{transition:opacity .5s linear,transform .5s,-webkit-transform .5s}.nb-gallery-preview-img.nb-gallery-active{opacity:1}.nb-gallery-preview-img.nb-gallery-grab{cursor:grab;cursor:-webkit-grab}.nb-gallery-icon.nb-gallery-spinner{font-size:50px;left:0;display:inline-block}:host /deep/ .nb-gallery-preview-top{position:absolute;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host /deep/ .nb-gallery-preview-icons{float:right}:host /deep/ .nb-gallery-preview-icons .nb-gallery-icon{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}:host /deep/ .nb-gallery-preview-icons .nb-gallery-icon.nb-gallery-icon-disabled{cursor:default;opacity:.4}.nb-spinner-wrapper{width:50px;height:50px;display:none}.nb-spinner-wrapper.nb-gallery-active{display:inline-block}.nb-gallery-center{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.nb-gallery-preview-text{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.nb-gallery-preview-wrapper{width:100%;height:100%;display:flex;flex-flow:column}.nb-gallery-preview-img-wrapper{flex:1 1 auto;position:relative}"]}]}],t.ctorParameters=function(){return[{type:n.DomSanitizer},{type:r.ElementRef},{type:u},{type:r.Renderer},{type:r.ChangeDetectorRef}]},t.propDecorators={items:[{type:r.Input}],descriptions:[{type:r.Input}],showDescription:[{type:r.Input}],swipe:[{type:r.Input}],fullscreen:[{type:r.Input}],forceFullscreen:[{type:r.Input}],closeOnClick:[{type:r.Input}],closeOnEsc:[{type:r.Input}],keyboardNavigation:[{type:r.Input}],arrowPrevIcon:[{type:r.Input}],arrowNextIcon:[{type:r.Input}],closeIcon:[{type:r.Input}],fullscreenIcon:[{type:r.Input}],spinnerIcon:[{type:r.Input}],autoPlay:[{type:r.Input}],autoPlayInterval:[{type:r.Input}],autoPlayPauseOnHover:[{type:r.Input}],infinityMove:[{type:r.Input}],zoom:[{type:r.Input}],zoomStep:[{type:r.Input}],zoomMax:[{type:r.Input}],zoomMin:[{type:r.Input}],zoomInIcon:[{type:r.Input}],zoomOutIcon:[{type:r.Input}],animation:[{type:r.Input}],actions:[{type:r.Input}],rotate:[{type:r.Input}],rotateLeftIcon:[{type:r.Input}],rotateRightIcon:[{type:r.Input}],download:[{type:r.Input}],downloadIcon:[{type:r.Input}],bullets:[{type:r.Input}],onOpen:[{type:r.Output}],onClose:[{type:r.Output}],onActiveChange:[{type:r.Output}],previewImage:[{type:r.ViewChild,args:["previewImage"]}]},t}(),f=function(){function t(){}return t.Cover="cover",t.Contain="contain",t}(),v=function(){function t(){}return t.ThumbnailsTop="thumbnails-top",t.ThumbnailsBottom="thumbnails-bottom",t}(),w=function A(t){this.icon=t.icon,this.disabled=!!t.disabled&&t.disabled,this.titleText=t.titleText?t.titleText:"",this.onClick=t.onClick},I=function M(n){var i=n.breakpoint!==undefined;function t(t,e){return n&&(t!==undefined||i)?t:e}this.breakpoint=t(n.breakpoint,undefined),this.width=t(n.width,"500px"),this.height=t(n.height,"400px"),this.fullWidth=t(n.fullWidth,!1),this.layout=t(n.layout,v.ThumbnailsBottom),this.startIndex=t(n.startIndex,0),this.linkTarget=t(n.linkTarget,"_blank"),this.lazyLoading=t(n.lazyLoading,!0),this.item=t(n.item,!0),this.itemPercent=t(n.itemPercent,75),this.itemArrows=t(n.itemArrows,!0),this.itemArrowsAutoHide=t(n.itemArrowsAutoHide,!1),this.itemSwipe=t(n.itemSwipe,!1),this.itemAnimation=t(n.itemAnimation,p.Fade),this.itemSize=t(n.itemSize,f.Cover),this.itemAutoPlay=t(n.itemAutoPlay,!1),this.itemAutoPlayInterval=t(n.itemAutoPlayInterval,2e3),this.itemAutoPlayPauseOnHover=t(n.itemAutoPlayPauseOnHover,!1),this.itemInfinityMove=t(n.itemInfinityMove,!1),n&&n.itemActions&&n.itemActions.length&&(n.itemActions=n.itemActions.map(function(t){return new w(t)})),this.itemActions=t(n.itemActions,[]),this.itemDescription=t(n.itemDescription,!1),this.itemBullets=t(n.itemBullets,!1),this.thumbnails=t(n.thumbnails,!0),this.defaultVideoThumbnnailUrl=t(n.defaultVideoThumbnnailUrl,undefined),this.thumbnailsColumns=t(n.thumbnailsColumns,4),this.thumbnailsRows=t(n.thumbnailsRows,1),this.thumbnailsPercent=t(n.thumbnailsPercent,25),this.thumbnailsMargin=t(n.thumbnailsMargin,10),this.thumbnailsArrows=t(n.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=t(n.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=t(n.thumbnailsSwipe,!1),this.thumbnailsMoveSize=t(n.thumbnailsMoveSize,1),this.thumbnailsOrder=t(n.thumbnailsOrder,g.Column),this.thumbnailsRemainingCount=t(n.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=t(n.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=t(n.thumbnailsAutoHide,!1),this.thumbnailMargin=t(n.thumbnailMargin,10),this.thumbnailSize=t(n.thumbnailSize,f.Cover),n&&n.thumbnailActions&&n.thumbnailActions.length&&(n.thumbnailActions=n.thumbnailActions.map(function(t){return new w(t)})),this.thumbnailActions=t(n.thumbnailActions,[]),this.preview=t(n.preview,!0),this.previewDescription=t(n.previewDescription,!0),this.previewSwipe=t(n.previewSwipe,!1),this.previewFullscreen=t(n.previewFullscreen,!1),this.previewForceFullscreen=t(n.previewForceFullscreen,!1),this.previewCloseOnClick=t(n.previewCloseOnClick,!1),this.previewCloseOnEsc=t(n.previewCloseOnEsc,!1),this.previewKeyboardNavigation=t(n.previewKeyboardNavigation,!1),this.previewAnimation=t(n.previewAnimation,!0),this.previewAutoPlay=t(n.previewAutoPlay,!1),this.previewAutoPlayInterval=t(n.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=t(n.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=t(n.previewInfinityMove,!1),this.previewZoom=t(n.previewZoom,!1),this.previewZoomStep=t(n.previewZoomStep,.1),this.previewZoomMax=t(n.previewZoomMax,2),this.previewZoomMin=t(n.previewZoomMin,.5),this.previewRotate=t(n.previewRotate,!1),this.previewDownload=t(n.previewDownload,!1),this.previewCustom=t(n.previewCustom,undefined),this.previewBullets=t(n.previewBullets,!1),this.arrowPrevIcon=t(n.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=t(n.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=t(n.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=t(n.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=t(n.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=t(n.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=t(n.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=t(n.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=t(n.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=t(n.downloadIcon,"fa fa-arrow-circle-down"),n&&n.actions&&n.actions.length&&(n.actions=n.actions.map(function(t){return new w(t)})),this.actions=t(n.actions,[])},x=function T(t){this.type=t.type,this.source=t.source,this.url=t.url},O=function E(t){this.type=t.type,this.source=t.source,this.url=t.url,this.index=t.index},C=function(){function t(t){this.myElement=t,this.itemsReady=new r.EventEmitter,this.change=new r.EventEmitter,this.previewOpen=new r.EventEmitter,this.previewClose=new r.EventEmitter,this.previewChange=new r.EventEmitter,this.oldItemsLength=0,this.selectedIndex=0,this.breakpoint=undefined,this.prevBreakpoint=undefined}return t.prototype.ngOnInit=function(){this.options=this.options.map(function(t){return new I(t)}),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)},t.prototype.ngDoCheck=function(){(this.items!==undefined&&this.items.length!==this.oldItemsLength||this.items!==this.oldItems)&&(this.oldItemsLength=this.items.length,this.oldItems=this.items,this.setOptions(),this.setItems(),this.items&&this.items.length&&this.itemsReady.emit(),this.item&&this.item.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.items.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.itemArrows=!1),this.resetThumbnails())},t.prototype.ngAfterViewInit=function(){this.checkFullWidth()},t.prototype.onResize=function(){var t=this;this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(function(){t.checkFullWidth()},200))},t.prototype.getItemHeight=function(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.itemPercent+"%":"100%"},t.prototype.getThumbnailsHeight=function(){return this.currentOptions&&this.currentOptions.item?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"},t.prototype.getThumbnailsMarginTop=function(){return this.currentOptions&&this.currentOptions.layout===v.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"},t.prototype.getThumbnailsMarginBottom=function(){return this.currentOptions&&this.currentOptions.layout===v.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"},t.prototype.openPreview=function(t){this.currentOptions.previewCustom?this.currentOptions.previewCustom(t):(this.previewEnabled=!0,this.preview.open(t)),console.log(t)},t.prototype.onPreviewOpen=function(){this.previewOpen.emit(),this.item&&this.item.autoPlay&&this.item.stopAutoPlay()},t.prototype.onPreviewClose=function(){this.previewEnabled=!1,this.previewClose.emit(),this.item&&this.item.autoPlay&&this.item.startAutoPlay()},t.prototype.selectFromItem=function(t){this.select(t)},t.prototype.selectFromThumbnails=function(t){this.select(t),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.item||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)},t.prototype.show=function(t){this.select(t)},t.prototype.showNext=function(){this.item.showNext()},t.prototype.showPrev=function(){this.item.showPrev()},t.prototype.canShowNext=function(){return!(!this.items||!this.currentOptions)&&!!(this.currentOptions.itemInfinityMove||this.selectedIndex<this.items.length-1)},t.prototype.canShowPrev=function(){return!(!this.items||!this.currentOptions)&&!!(this.currentOptions.itemInfinityMove||0<this.selectedIndex)},t.prototype.previewSelect=function(t){this.previewChange.emit({index:t,item:this.items[t]})},t.prototype.moveThumbnailsRight=function(){this.thumbnail.moveRight()},t.prototype.moveThumbnailsLeft=function(){this.thumbnail.moveLeft()},t.prototype.canMoveThumbnailsRight=function(){return this.thumbnail.canMoveRight()},t.prototype.canMoveThumbnailsLeft=function(){return this.thumbnail.canMoveLeft()},t.prototype.resetThumbnails=function(){this.thumbnail&&this.thumbnail.reset(this.currentOptions.startIndex)},t.prototype.select=function(t){this.selectedIndex=t,this.change.emit({index:t,item:this.items[t]})},t.prototype.checkFullWidth=function(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left=-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px")},t.prototype.setItems=function(){var n=this;this.thumbnails=this.items.map(function(t,e){return new x({type:t.type,source:t.source,url:"image"===t.type?t.small:n.currentOptions.defaultVideoThumbnnailUrl})}),this.galleryItems=this.items.map(function(t,e){return new O({type:t.type,source:t.source,url:"image"===t.type?t.medium:t.url,index:e})}),this.previewItems=this.items.map(function(t,e){return new O({type:t.type,source:t.source,url:"image"===t.type?t.big:t.url,index:e})}),this.descriptions=this.items.map(function(t){return t.description}),this.links=this.items.map(function(t){return t.url}),this.labels=this.items.map(function(t){return t.label})},t.prototype.setBreakpoint=function(){var t;this.prevBreakpoint=this.breakpoint,"undefined"!=typeof window&&(t=this.options.filter(function(t){return t.breakpoint>=window.innerWidth}).map(function(t){return t.breakpoint})),t&&t.length?this.breakpoint=t.pop():this.breakpoint=undefined},t.prototype.sortOptions=function(){this.options=function n(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}(this.options.filter(function(t){return t.breakpoint===undefined}),this.options.filter(function(t){return t.breakpoint!==undefined}).sort(function(t,e){return e.breakpoint-t.breakpoint}))},t.prototype.setOptions=function(){var e=this;this.currentOptions=new I({}),this.options.filter(function(t){return t.breakpoint===undefined||t.breakpoint>=e.breakpoint}).map(function(t){return e.combineOptions(e.currentOptions,t)}),this.width=this.currentOptions.width,this.height=this.currentOptions.height},t.prototype.combineOptions=function(e,n){Object.keys(n).map(function(t){return e[t]=n[t]!==undefined?n[t]:e[t]})},t.decorators=[{type:r.Component,args:[{selector:"nb-gallery",template:'\n  <div class="nb-gallery-layout {{currentOptions?.layout}}">\n      <nb-gallery-item  *ngIf="currentOptions?.item" [style.height]="getItemHeight()" [items]="galleryItems" [clickable]="currentOptions?.preview" [selectedIndex]="selectedIndex" [arrows]="currentOptions?.itemArrows" [arrowsAutoHide]="currentOptions?.itemArrowsAutoHide" [arrowPrevIcon]="currentOptions?.arrowPrevIcon" [arrowNextIcon]="currentOptions?.arrowNextIcon" [swipe]="currentOptions?.itemSwipe" [animation]="currentOptions?.itemAnimation" [size]="currentOptions?.itemSize" [autoPlay]="currentOptions?.itemAutoPlay" [autoPlayInterval]="currentOptions?.itemAutoPlayInterval" [autoPlayPauseOnHover]="currentOptions?.itemAutoPlayPauseOnHover" [infinityMove]="currentOptions?.itemInfinityMove"  [lazyLoading]="currentOptions?.lazyLoading" [actions]="currentOptions?.itemActions" [descriptions]="descriptions" [showDescription]="currentOptions?.itemDescription" [bullets]="currentOptions?.itemBullets" (onClick)="openPreview($event)" (onActiveChange)="selectFromItem($event)"></nb-gallery-item>\n      <nb-gallery-thumbnails *ngIf="currentOptions?.thumbnails" [style.marginTop]="getThumbnailsMarginTop()" [style.marginBottom]="getThumbnailsMarginBottom()" [style.height]="getThumbnailsHeight()" [items]="thumbnails" [links]="currentOptions?.thumbnailsAsLinks ? links : []" [labels]="labels" [linkTarget]="currentOptions?.linkTarget" [selectedIndex]="selectedIndex" [columns]="currentOptions?.thumbnailsColumns" [rows]="currentOptions?.thumbnailsRows" [margin]="currentOptions?.thumbnailMargin" [arrows]="currentOptions?.thumbnailsArrows" [arrowsAutoHide]="currentOptions?.thumbnailsArrowsAutoHide" [arrowPrevIcon]="currentOptions?.arrowPrevIcon" [arrowNextIcon]="currentOptions?.arrowNextIcon" [clickable]="currentOptions?.item || currentOptions?.preview" [swipe]="currentOptions?.thumbnailsSwipe" [size]="currentOptions?.thumbnailSize" [moveSize]="currentOptions?.thumbnailsMoveSize" [order]="currentOptions?.thumbnailsOrder" [remainingCount]="currentOptions?.thumbnailsRemainingCount" [lazyLoading]="currentOptions?.lazyLoading" [actions]="currentOptions?.thumbnailActions"  (onActiveChange)="selectFromThumbnails($event)"></nb-gallery-thumbnails>\n      <nb-gallery-preview [items]="previewItems" [descriptions]="descriptions" [showDescription]="currentOptions?.previewDescription" [arrowPrevIcon]="currentOptions?.arrowPrevIcon" [arrowNextIcon]="currentOptions?.arrowNextIcon" [closeIcon]="currentOptions?.closeIcon" [fullscreenIcon]="currentOptions?.fullscreenIcon" [spinnerIcon]="currentOptions?.spinnerIcon" [swipe]="currentOptions?.previewSwipe" [fullscreen]="currentOptions?.previewFullscreen" [forceFullscreen]="currentOptions?.previewForceFullscreen" [closeOnClick]="currentOptions?.previewCloseOnClick" [closeOnEsc]="currentOptions?.previewCloseOnEsc" [keyboardNavigation]="currentOptions?.previewKeyboardNavigation" [animation]="currentOptions?.previewAnimation" [autoPlay]="currentOptions?.previewAutoPlay" [autoPlayInterval]="currentOptions?.previewAutoPlayInterval" [autoPlayPauseOnHover]="currentOptions?.previewAutoPlayPauseOnHover" [infinityMove]="currentOptions?.previewInfinityMove" [zoom]="currentOptions?.previewZoom" [zoomStep]="currentOptions?.previewZoomStep" [zoomMax]="currentOptions?.previewZoomMax" [zoomMin]="currentOptions?.previewZoomMin" [zoomInIcon]="currentOptions?.zoomInIcon" [zoomOutIcon]="currentOptions?.zoomOutIcon" [actions]="currentOptions?.actions" [rotate]="currentOptions?.previewRotate" [rotateLeftIcon]="currentOptions?.rotateLeftIcon" [rotateRightIcon]="currentOptions?.rotateRightIcon" [download]="currentOptions?.previewDownload" [downloadIcon]="currentOptions?.downloadIcon" [bullets]="currentOptions?.previewBullets" (onClose)="onPreviewClose()" (onOpen)="onPreviewOpen()" (onActiveChange)="previewSelect($event)" [class.nb-gallery-active]="previewEnabled"></nb-gallery-preview>\n  </div>\n  ',providers:[u],styles:[":host{display:inline-block}:host>*{float:left}:host /deep/ *{box-sizing:border-box}:host /deep/ .nb-gallery-icon{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}:host /deep/ .nb-gallery-icon .nb-gallery-icon-content{display:block}:host /deep/ .nb-gallery-clickable{cursor:pointer}:host /deep/ .nb-gallery-icons-wrapper .nb-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}:host /deep/ .nb-gallery-icons-wrapper{float:right}:host .nb-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}:host .nb-gallery-layout.thumbnails-top nb-gallery-image{order:2}:host .nb-gallery-layout.thumbnails-top nb-gallery-thumbnails{order:1}:host .nb-gallery-layout.thumbnails-bottom nb-gallery-image{order:1}:host .nb-gallery-layout.thumbnails-bottom nb-gallery-thumbnails{order:2}"]}]}],t.ctorParameters=function(){return[{type:r.ElementRef}]},t.propDecorators={options:[{type:r.Input}],items:[{type:r.Input}],itemsReady:[{type:r.Output}],change:[{type:r.Output}],previewOpen:[{type:r.Output}],previewClose:[{type:r.Output}],previewChange:[{type:r.Output}],preview:[{type:r.ViewChild,args:[b]}],item:[{type:r.ViewChild,args:[c]}],thumbnail:[{type:r.ViewChild,args:[d]}],width:[{type:r.HostBinding,args:["style.width"]}],height:[{type:r.HostBinding,args:["style.height"]}],left:[{type:r.HostBinding,args:["style.left"]}],onResize:[{type:r.HostListener,args:["window:resize"]}]},t}(),k=function N(t){this.type=t.type,this.source=t.source,this.small=t.small,this.medium=t.medium,this.big=t.big,this.description=t.description,this.url=t.url,this.label=t.label},P=function L(t){this.src=t.src,this.index=t.index},z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pinch:{enable:!1},rotate:{enable:!1}},t}return function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(n.HammerGestureConfig),S=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[e.CommonModule],declarations:[s,a,l,c,d,b,C,h,m,y],exports:[C],providers:[{provide:n.HAMMER_GESTURE_CONFIG,useClass:z}]}]}],t}();t.CustomHammerConfig=z,t.NbGalleryModule=S,t.NbGalleryComponent=C,t.NbGalleryActionComponent=s,t.NbGalleryItemComponent=c,t.NbGalleryVideoComponent=h,t.NbGalleryIframeComponent=m,t.NbGalleryTagComponent=y,t.NbGalleryThumbnailsComponent=d,t.NbGalleryPreviewComponent=b,t.NbGalleryArrowsComponent=a,t.NbGalleryBulletsComponent=l,t.NbGalleryOptions=I,t.NbGalleryItem=k,t.NbGalleryAnimation=p,t.NbGalleryHelperService=u,t.NbGalleryImageSize=f,t.NbGalleryLayout=v,t.NbGalleryOrder=g,t.NbGalleryOrderedImage=P,t.NbGalleryAction=w,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=nb-gallery.umd.min.js.map